<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EstoqueSmart - Gest√£o de Invent√°rio</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0f172a; color: #e2e8f0; min-height: 100vh; }
        .app-layout { display: flex; }
        .sidebar { width: 250px; background: #1e293b; min-height: 100vh; padding: 20px; position: fixed; left: 0; border-right: 1px solid rgba(139, 92, 246, 0.2); }
        .logo { display: flex; align-items: center; gap: 12px; margin-bottom: 35px; }
        .logo-icon { width: 42px; height: 42px; background: linear-gradient(135deg, #f59e0b, #ef4444); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }
        .logo span { font-weight: 700; font-size: 1.15rem; }
        .nav-menu { list-style: none; }
        .nav-menu a { display: flex; align-items: center; gap: 12px; padding: 12px 15px; color: #94a3b8; text-decoration: none; border-radius: 8px; margin-bottom: 5px; transition: all 0.3s; }
        .nav-menu a:hover, .nav-menu a.active { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .main-content { flex: 1; margin-left: 250px; padding: 25px; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; flex-wrap: wrap; gap: 15px; }
        .page-title h1 { font-size: 1.6rem; margin-bottom: 5px; }
        .page-title p { color: #64748b; font-size: 0.9rem; }
        .header-actions { display: flex; gap: 12px; flex-wrap: wrap; }
        .search-box { display: flex; align-items: center; background: #1e293b; border: 1px solid rgba(139, 92, 246, 0.3); padding: 10px 15px; border-radius: 8px; gap: 10px; }
        .search-box input { background: none; border: none; color: #e2e8f0; width: 200px; outline: none; }
        .search-box i { color: #64748b; }
        .btn { padding: 10px 18px; border-radius: 8px; border: none; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 8px; transition: all 0.3s; }
        .btn-primary { background: linear-gradient(135deg, #f59e0b, #ef4444); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(245, 158, 11, 0.4); }
        .btn-secondary { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; }
        .stat-card { background: #1e293b; border-radius: 15px; padding: 20px; border: 1px solid rgba(139, 92, 246, 0.2); }
        .stat-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .stat-icon { width: 45px; height: 45px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }
        .stat-icon.orange { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .stat-icon.green { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .stat-icon.red { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .stat-icon.blue { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
        .stat-trend { font-size: 0.8rem; padding: 4px 8px; border-radius: 15px; }
        .trend-up { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .trend-down { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .stat-value { font-size: 1.8rem; font-weight: 700; margin-bottom: 5px; }
        .stat-label { color: #64748b; font-size: 0.85rem; }
        .content-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
        .card { background: #1e293b; border-radius: 15px; padding: 20px; border: 1px solid rgba(139, 92, 246, 0.2); }
        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .card-header h2 { font-size: 1.1rem; }
        .products-table { width: 100%; border-collapse: collapse; }
        .products-table th { text-align: left; padding: 12px; color: #64748b; font-weight: 500; font-size: 0.85rem; border-bottom: 1px solid rgba(139, 92, 246, 0.2); }
        .products-table td { padding: 15px 12px; border-bottom: 1px solid rgba(139, 92, 246, 0.1); }
        .product-info { display: flex; align-items: center; gap: 12px; }
        .product-img { width: 45px; height: 45px; background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(239, 68, 68, 0.2)); border-radius: 8px; display: flex; align-items: center; justify-content: center; }
        .product-name { font-weight: 500; }
        .product-sku { font-size: 0.8rem; color: #64748b; }
        .stock-badge { padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 500; }
        .stock-ok { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .stock-low { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .stock-critical { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .action-btn { background: none; border: none; color: #64748b; cursor: pointer; padding: 5px; transition: color 0.3s; }
        .action-btn:hover { color: #f59e0b; }
        .alerts-list { display: flex; flex-direction: column; gap: 12px; }
        .alert-item { display: flex; align-items: flex-start; gap: 12px; padding: 15px; background: #0f172a; border-radius: 10px; border-left: 3px solid; }
        .alert-item.warning { border-color: #f59e0b; }
        .alert-item.danger { border-color: #ef4444; }
        .alert-item.info { border-color: #3b82f6; }
        .alert-icon { width: 35px; height: 35px; border-radius: 8px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .alert-item.warning .alert-icon { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .alert-item.danger .alert-icon { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .alert-item.info .alert-icon { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
        .alert-content { flex: 1; }
        .alert-title { font-weight: 600; margin-bottom: 3px; font-size: 0.9rem; }
        .alert-desc { font-size: 0.8rem; color: #64748b; }
        .alert-time { font-size: 0.75rem; color: #64748b; }
        .chart-container { height: 200px; margin-top: 15px; }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0, 0, 0, 0.8); z-index: 1000; align-items: center; justify-content: center; }
        .modal.active { display: flex; }
        .modal-content { background: #1e293b; border-radius: 20px; padding: 30px; width: 100%; max-width: 500px; animation: slideUp 0.3s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .modal-header h2 { font-size: 1.3rem; }
        .close-modal { background: none; border: none; color: #64748b; font-size: 1.5rem; cursor: pointer; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; color: #94a3b8; font-size: 0.9rem; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px 15px; background: #0f172a; border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 8px; color: #e2e8f0; font-size: 0.95rem; }
        .form-group input:focus, .form-group select:focus { outline: none; border-color: #f59e0b; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .page-content { display: none; animation: fadeInPage 0.4s ease; }
        .page-content.active { display: block; }
        @keyframes fadeInPage { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .back-to-portfolio { position: fixed; bottom: 20px; left: 20px; z-index: 9999; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 12px 20px; border-radius: 50px; text-decoration: none; font-weight: 600; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4); transition: all 0.3s ease; }
        .back-to-portfolio:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(99, 102, 241, 0.5); }
        .movements-table { width: 100%; border-collapse: collapse; }
        .movements-table th { text-align: left; padding: 12px; color: #64748b; font-weight: 500; font-size: 0.85rem; border-bottom: 1px solid rgba(139, 92, 246, 0.2); }
        .movements-table td { padding: 15px 12px; border-bottom: 1px solid rgba(139, 92, 246, 0.1); }
        .movement-type { padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 500; }
        .movement-entry { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .movement-exit { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .supplier-card { background: #0f172a; border-radius: 12px; padding: 20px; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; border: 1px solid rgba(139, 92, 246, 0.1); transition: all 0.3s; }
        .supplier-card:hover { border-color: #f59e0b; transform: translateX(5px); }
        .supplier-info { display: flex; align-items: center; gap: 15px; }
        .supplier-avatar { width: 50px; height: 50px; border-radius: 12px; background: linear-gradient(135deg, #f59e0b, #ef4444); display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }
        .supplier-name { font-weight: 600; margin-bottom: 3px; }
        .supplier-contact { font-size: 0.85rem; color: #64748b; }
        .supplier-status { padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 500; }
        .status-active { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .status-inactive { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .location-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .location-card { background: #0f172a; border-radius: 12px; padding: 20px; text-align: center; border: 1px solid rgba(139, 92, 246, 0.1); transition: all 0.3s; }
        .location-card:hover { border-color: #f59e0b; }
        .location-icon { width: 60px; height: 60px; border-radius: 12px; background: rgba(245, 158, 11, 0.2); color: #f59e0b; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; margin: 0 auto 15px; }
        .location-name { font-weight: 600; margin-bottom: 5px; }
        .location-capacity { font-size: 0.85rem; color: #64748b; }
        .capacity-bar { height: 8px; background: rgba(139, 92, 246, 0.2); border-radius: 4px; margin-top: 10px; overflow: hidden; }
        .capacity-fill { height: 100%; border-radius: 4px; }
        .capacity-ok { background: #10b981; }
        .capacity-warning { background: #f59e0b; }
        .capacity-critical { background: #ef4444; }
        .settings-section { margin-bottom: 30px; }
        .settings-section h3 { margin-bottom: 20px; font-size: 1.1rem; }
        .setting-item { display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #0f172a; border-radius: 10px; margin-bottom: 10px; }
        .setting-info h4 { margin-bottom: 5px; }
        .setting-info p { font-size: 0.85rem; color: #64748b; }
        .toggle-switch { width: 50px; height: 26px; background: #64748b; border-radius: 13px; position: relative; cursor: pointer; transition: all 0.3s; }
        .toggle-switch.active { background: #f59e0b; }
        .toggle-switch::after { content: ''; position: absolute; width: 22px; height: 22px; background: white; border-radius: 50%; top: 2px; left: 2px; transition: all 0.3s; }
        .toggle-switch.active::after { left: 26px; }
        @media (max-width: 1200px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } .content-grid { grid-template-columns: 1fr; } .location-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .sidebar { display: none; } .main-content { margin-left: 0; } .stats-grid { grid-template-columns: 1fr; } .location-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <a href="../../index.html#projects" class="back-to-portfolio"><i class="fas fa-arrow-left"></i> Voltar ao Portf√≥lio</a>
    <div class="app-layout">
        <aside class="sidebar">
            <div class="logo"><div class="logo-icon"><i class="fas fa-boxes-stacked"></i></div><span>EstoqueSmart</span></div>
            <ul class="nav-menu">
                <li><a href="#" class="active" data-page="dashboard"><i class="fas fa-home"></i> Dashboard</a></li>
                <li><a href="#" data-page="produtos"><i class="fas fa-box"></i> Produtos</a></li>
                <li><a href="#" data-page="entradas"><i class="fas fa-arrow-down"></i> Entradas</a></li>
                <li><a href="#" data-page="saidas"><i class="fas fa-arrow-up"></i> Sa√≠das</a></li>
                <li><a href="#" data-page="fornecedores"><i class="fas fa-truck"></i> Fornecedores</a></li>
                <li><a href="#" data-page="localizacoes"><i class="fas fa-warehouse"></i> Localiza√ß√µes</a></li>
                <li><a href="#" data-page="relatorios"><i class="fas fa-chart-line"></i> Relat√≥rios</a></li>
                <li><a href="#" data-page="configuracoes"><i class="fas fa-cog"></i> Configura√ß√µes</a></li>
            </ul>
        </aside>
        <main class="main-content">
            <!-- PAGE: DASHBOARD -->
            <div class="page-content active" id="page-dashboard">
                <div class="header">
                    <div class="page-title"><h1>Gest√£o de Estoque</h1><p>Vis√£o geral do invent√°rio ‚Ä¢ Atualizado h√° 5 min</p></div>
                    <div class="header-actions">
                        <div class="search-box"><i class="fas fa-search"></i><input type="text" placeholder="Buscar produto..."></div>
                        <button class="btn btn-primary" onclick="openModal()"><i class="fas fa-plus"></i> Novo Produto</button>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon orange"><i class="fas fa-boxes-stacked"></i></div><span class="stat-trend trend-up"><i class="fas fa-arrow-up"></i> 12%</span></div><div class="stat-value" id="totalProdutos">1,247</div><div class="stat-label">Total de Produtos</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon green"><i class="fas fa-check-circle"></i></div><span class="stat-trend trend-up"><i class="fas fa-arrow-up"></i> 5%</span></div><div class="stat-value">1,089</div><div class="stat-label">Em Estoque</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon red"><i class="fas fa-exclamation-triangle"></i></div><span class="stat-trend trend-down"><i class="fas fa-arrow-down"></i> 8%</span></div><div class="stat-value">23</div><div class="stat-label">Estoque Baixo</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon blue"><i class="fas fa-dollar-sign"></i></div><span class="stat-trend trend-up"><i class="fas fa-arrow-up"></i> 18%</span></div><div class="stat-value">R$ 2.4M</div><div class="stat-label">Valor Total</div></div>
                </div>
                <div class="content-grid">
                    <div class="card">
                        <div class="card-header"><h2>üì¶ Produtos Recentes</h2><button class="btn btn-secondary">Ver Todos</button></div>
                        <table class="products-table">
                            <thead><tr><th>Produto</th><th>Categoria</th><th>Qtd</th><th>Status</th><th>A√ß√µes</th></tr></thead>
                            <tbody id="productsTable">
                                <tr><td><div class="product-info"><div class="product-img"><i class="fas fa-laptop"></i></div><div><div class="product-name">Notebook Dell XPS 15</div><div class="product-sku">SKU: NB-001-DL</div></div></div></td><td>Eletr√¥nicos</td><td>45</td><td><span class="stock-badge stock-ok">Em Estoque</span></td><td><button class="action-btn"><i class="fas fa-edit"></i></button><button class="action-btn"><i class="fas fa-trash"></i></button></td></tr>
                                <tr><td><div class="product-info"><div class="product-img"><i class="fas fa-keyboard"></i></div><div><div class="product-name">Teclado Mec√¢nico RGB</div><div class="product-sku">SKU: KB-045-MC</div></div></div></td><td>Perif√©ricos</td><td>8</td><td><span class="stock-badge stock-low">Baixo</span></td><td><button class="action-btn"><i class="fas fa-edit"></i></button><button class="action-btn"><i class="fas fa-trash"></i></button></td></tr>
                                <tr><td><div class="product-info"><div class="product-img"><i class="fas fa-headphones"></i></div><div><div class="product-name">Headset Gamer Pro</div><div class="product-sku">SKU: HS-102-GP</div></div></div></td><td>Perif√©ricos</td><td>2</td><td><span class="stock-badge stock-critical">Cr√≠tico</span></td><td><button class="action-btn"><i class="fas fa-edit"></i></button><button class="action-btn"><i class="fas fa-trash"></i></button></td></tr>
                                <tr><td><div class="product-info"><div class="product-img"><i class="fas fa-tv"></i></div><div><div class="product-name">Monitor LG 27" 4K</div><div class="product-sku">SKU: MN-027-LG</div></div></div></td><td>Monitores</td><td>32</td><td><span class="stock-badge stock-ok">Em Estoque</span></td><td><button class="action-btn"><i class="fas fa-edit"></i></button><button class="action-btn"><i class="fas fa-trash"></i></button></td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <div class="card"><div class="card-header"><h2>‚ö†Ô∏è Alertas</h2></div>
                            <div class="alerts-list">
                                <div class="alert-item danger"><div class="alert-icon"><i class="fas fa-exclamation"></i></div><div class="alert-content"><div class="alert-title">Estoque Cr√≠tico</div><div class="alert-desc">Headset Gamer Pro - apenas 2 unidades</div></div><span class="alert-time">5 min</span></div>
                                <div class="alert-item warning"><div class="alert-icon"><i class="fas fa-bell"></i></div><div class="alert-content"><div class="alert-title">Estoque Baixo</div><div class="alert-desc">Teclado Mec√¢nico - 8 unidades</div></div><span class="alert-time">15 min</span></div>
                                <div class="alert-item info"><div class="alert-icon"><i class="fas fa-truck"></i></div><div class="alert-content"><div class="alert-title">Pedido a Caminho</div><div class="alert-desc">50x Mouse Wireless chegando</div></div><span class="alert-time">1h</span></div>
                            </div>
                        </div>
                        <div class="card"><div class="card-header"><h2>üìä Movimenta√ß√£o</h2></div><div class="chart-container"><canvas id="movementChart"></canvas></div></div>
                    </div>
                </div>
            </div>

            <!-- PAGE: PRODUTOS -->
            <div class="page-content" id="page-produtos">
                <div class="header"><div class="page-title"><h1>Cat√°logo de Produtos</h1><p>Gerencie todos os produtos do seu invent√°rio</p></div><div class="header-actions"><div class="search-box"><i class="fas fa-search"></i><input type="text" placeholder="Buscar..."></div><button class="btn btn-primary" onclick="openModal()"><i class="fas fa-plus"></i> Novo Produto</button></div></div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon orange"><i class="fas fa-box"></i></div></div><div class="stat-value">1,247</div><div class="stat-label">Total de Produtos</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon green"><i class="fas fa-tags"></i></div></div><div class="stat-value">12</div><div class="stat-label">Categorias</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon blue"><i class="fas fa-star"></i></div></div><div class="stat-value">156</div><div class="stat-label">Mais Vendidos</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon red"><i class="fas fa-pause-circle"></i></div></div><div class="stat-value">34</div><div class="stat-label">Inativos</div></div>
                </div>
                <div class="card"><div class="card-header"><h2>üì¶ Lista Completa</h2><button class="btn btn-secondary"><i class="fas fa-download"></i> Exportar</button></div>
                    <table class="products-table"><thead><tr><th>Produto</th><th>Categoria</th><th>Pre√ßo</th><th>Qtd</th><th>Status</th><th>A√ß√µes</th></tr></thead>
                        <tbody>
                            <tr><td><div class="product-info"><div class="product-img"><i class="fas fa-laptop"></i></div><div><div class="product-name">Notebook Dell XPS 15</div><div class="product-sku">SKU: NB-001-DL</div></div></div></td><td>Eletr√¥nicos</td><td>R$ 8.499</td><td>45</td><td><span class="stock-badge stock-ok">Em Estoque</span></td><td><button class="action-btn"><i class="fas fa-edit"></i></button><button class="action-btn"><i class="fas fa-trash"></i></button></td></tr>
                            <tr><td><div class="product-info"><div class="product-img"><i class="fas fa-keyboard"></i></div><div><div class="product-name">Teclado Mec√¢nico RGB</div><div class="product-sku">SKU: KB-045-MC</div></div></div></td><td>Perif√©ricos</td><td>R$ 349</td><td>8</td><td><span class="stock-badge stock-low">Baixo</span></td><td><button class="action-btn"><i class="fas fa-edit"></i></button><button class="action-btn"><i class="fas fa-trash"></i></button></td></tr>
                            <tr><td><div class="product-info"><div class="product-img"><i class="fas fa-headphones"></i></div><div><div class="product-name">Headset Gamer Pro</div><div class="product-sku">SKU: HS-102-GP</div></div></div></td><td>Perif√©ricos</td><td>R$ 599</td><td>2</td><td><span class="stock-badge stock-critical">Cr√≠tico</span></td><td><button class="action-btn"><i class="fas fa-edit"></i></button><button class="action-btn"><i class="fas fa-trash"></i></button></td></tr>
                            <tr><td><div class="product-info"><div class="product-img"><i class="fas fa-tv"></i></div><div><div class="product-name">Monitor LG 27" 4K</div><div class="product-sku">SKU: MN-027-LG</div></div></div></td><td>Monitores</td><td>R$ 2.199</td><td>32</td><td><span class="stock-badge stock-ok">Em Estoque</span></td><td><button class="action-btn"><i class="fas fa-edit"></i></button><button class="action-btn"><i class="fas fa-trash"></i></button></td></tr>
                            <tr><td><div class="product-info"><div class="product-img"><i class="fas fa-mouse"></i></div><div><div class="product-name">Mouse Wireless</div><div class="product-sku">SKU: MS-089-WL</div></div></div></td><td>Perif√©ricos</td><td>R$ 189</td><td>156</td><td><span class="stock-badge stock-ok">Em Estoque</span></td><td><button class="action-btn"><i class="fas fa-edit"></i></button><button class="action-btn"><i class="fas fa-trash"></i></button></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- PAGE: ENTRADAS -->
            <div class="page-content" id="page-entradas">
                <div class="header"><div class="page-title"><h1>Entradas de Estoque</h1><p>Registre e acompanhe todas as entradas de produtos</p></div><div class="header-actions"><button class="btn btn-primary"><i class="fas fa-plus"></i> Nova Entrada</button></div></div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon green"><i class="fas fa-arrow-down"></i></div></div><div class="stat-value">342</div><div class="stat-label">Entradas Este M√™s</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon blue"><i class="fas fa-cubes"></i></div></div><div class="stat-value">8,567</div><div class="stat-label">Itens Recebidos</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon orange"><i class="fas fa-dollar-sign"></i></div></div><div class="stat-value">R$ 456K</div><div class="stat-label">Valor Total</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon red"><i class="fas fa-clock"></i></div></div><div class="stat-value">12</div><div class="stat-label">Pendentes</div></div>
                </div>
                <div class="card"><div class="card-header"><h2>üì• √öltimas Entradas</h2><button class="btn btn-secondary"><i class="fas fa-filter"></i> Filtrar</button></div>
                    <table class="movements-table"><thead><tr><th>ID</th><th>Produto</th><th>Quantidade</th><th>Fornecedor</th><th>Data</th><th>Respons√°vel</th></tr></thead>
                        <tbody>
                            <tr><td>#ENT-2341</td><td>Notebook Dell XPS 15</td><td><span class="movement-type movement-entry">+25 un</span></td><td>Dell Brasil</td><td>30/01/2026 14:32</td><td>Jo√£o Silva</td></tr>
                            <tr><td>#ENT-2340</td><td>Mouse Wireless Logitech</td><td><span class="movement-type movement-entry">+100 un</span></td><td>Logitech Inc.</td><td>30/01/2026 11:15</td><td>Maria Santos</td></tr>
                            <tr><td>#ENT-2339</td><td>Teclado Mec√¢nico RGB</td><td><span class="movement-type movement-entry">+50 un</span></td><td>TechParts LTDA</td><td>29/01/2026 16:45</td><td>Pedro Costa</td></tr>
                            <tr><td>#ENT-2338</td><td>Monitor LG 27" 4K</td><td><span class="movement-type movement-entry">+15 un</span></td><td>LG Electronics</td><td>29/01/2026 09:20</td><td>Jo√£o Silva</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- PAGE: SA√çDAS -->
            <div class="page-content" id="page-saidas">
                <div class="header"><div class="page-title"><h1>Sa√≠das de Estoque</h1><p>Registre todas as sa√≠das de produtos</p></div><div class="header-actions"><button class="btn btn-primary"><i class="fas fa-plus"></i> Nova Sa√≠da</button></div></div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon red"><i class="fas fa-arrow-up"></i></div></div><div class="stat-value">287</div><div class="stat-label">Sa√≠das Este M√™s</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon blue"><i class="fas fa-cubes"></i></div></div><div class="stat-value">5,432</div><div class="stat-label">Itens Enviados</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon green"><i class="fas fa-dollar-sign"></i></div></div><div class="stat-value">R$ 892K</div><div class="stat-label">Valor Faturado</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon orange"><i class="fas fa-truck"></i></div></div><div class="stat-value">8</div><div class="stat-label">Em Tr√¢nsito</div></div>
                </div>
                <div class="card"><div class="card-header"><h2>üì§ √öltimas Sa√≠das</h2><button class="btn btn-secondary"><i class="fas fa-filter"></i> Filtrar</button></div>
                    <table class="movements-table"><thead><tr><th>ID</th><th>Produto</th><th>Quantidade</th><th>Destino</th><th>Data</th><th>Status</th></tr></thead>
                        <tbody>
                            <tr><td>#SAI-1892</td><td>Notebook Dell XPS 15</td><td><span class="movement-type movement-exit">-5 un</span></td><td>Cliente ABC Corp</td><td>30/01/2026 15:10</td><td><span class="stock-badge stock-ok">Entregue</span></td></tr>
                            <tr><td>#SAI-1891</td><td>Mouse Wireless</td><td><span class="movement-type movement-exit">-30 un</span></td><td>Distribuidora XYZ</td><td>30/01/2026 12:45</td><td><span class="stock-badge stock-low">Em Tr√¢nsito</span></td></tr>
                            <tr><td>#SAI-1890</td><td>Headset Gamer Pro</td><td><span class="movement-type movement-exit">-3 un</span></td><td>Loja Virtual</td><td>29/01/2026 18:30</td><td><span class="stock-badge stock-ok">Entregue</span></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- PAGE: FORNECEDORES -->
            <div class="page-content" id="page-fornecedores">
                <div class="header"><div class="page-title"><h1>Fornecedores</h1><p>Gerencie seus fornecedores e parceiros</p></div><div class="header-actions"><button class="btn btn-primary"><i class="fas fa-plus"></i> Novo Fornecedor</button></div></div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon orange"><i class="fas fa-building"></i></div></div><div class="stat-value">48</div><div class="stat-label">Total Fornecedores</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon green"><i class="fas fa-check-circle"></i></div></div><div class="stat-value">42</div><div class="stat-label">Ativos</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon blue"><i class="fas fa-handshake"></i></div></div><div class="stat-value">156</div><div class="stat-label">Pedidos Este M√™s</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon red"><i class="fas fa-star"></i></div></div><div class="stat-value">4.7</div><div class="stat-label">Avalia√ß√£o M√©dia</div></div>
                </div>
                <div class="card"><div class="card-header"><h2>üè¢ Lista de Fornecedores</h2><div class="search-box"><i class="fas fa-search"></i><input type="text" placeholder="Buscar..."></div></div>
                    <div class="supplier-card"><div class="supplier-info"><div class="supplier-avatar"><i class="fas fa-laptop"></i></div><div><div class="supplier-name">Dell Brasil</div><div class="supplier-contact">contato@dell.com.br ‚Ä¢ (11) 4003-2001</div></div></div><span class="supplier-status status-active">Ativo</span></div>
                    <div class="supplier-card"><div class="supplier-info"><div class="supplier-avatar"><i class="fas fa-mouse"></i></div><div><div class="supplier-name">Logitech Inc.</div><div class="supplier-contact">vendas@logitech.com ‚Ä¢ (11) 3232-4545</div></div></div><span class="supplier-status status-active">Ativo</span></div>
                    <div class="supplier-card"><div class="supplier-info"><div class="supplier-avatar"><i class="fas fa-tv"></i></div><div><div class="supplier-name">LG Electronics</div><div class="supplier-contact">lg@lge.com.br ‚Ä¢ (11) 4004-5656</div></div></div><span class="supplier-status status-active">Ativo</span></div>
                    <div class="supplier-card"><div class="supplier-info"><div class="supplier-avatar"><i class="fas fa-keyboard"></i></div><div><div class="supplier-name">TechParts LTDA</div><div class="supplier-contact">compras@techparts.com.br ‚Ä¢ (11) 2828-9090</div></div></div><span class="supplier-status status-inactive">Inativo</span></div>
                </div>
            </div>

            <!-- PAGE: LOCALIZA√á√ïES -->
            <div class="page-content" id="page-localizacoes">
                <div class="header"><div class="page-title"><h1>Localiza√ß√µes de Estoque</h1><p>Gerencie seus dep√≥sitos</p></div><div class="header-actions"><button class="btn btn-primary"><i class="fas fa-plus"></i> Nova Localiza√ß√£o</button></div></div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon orange"><i class="fas fa-warehouse"></i></div></div><div class="stat-value">8</div><div class="stat-label">Dep√≥sitos</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon green"><i class="fas fa-th-large"></i></div></div><div class="stat-value">156</div><div class="stat-label">Prateleiras</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon blue"><i class="fas fa-percentage"></i></div></div><div class="stat-value">72%</div><div class="stat-label">Ocupa√ß√£o M√©dia</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon red"><i class="fas fa-exclamation-circle"></i></div></div><div class="stat-value">2</div><div class="stat-label">Lotados</div></div>
                </div>
                <div class="card"><div class="card-header"><h2>üìç Mapa de Localiza√ß√µes</h2></div>
                    <div class="location-grid">
                        <div class="location-card"><div class="location-icon"><i class="fas fa-warehouse"></i></div><div class="location-name">Dep√≥sito Principal</div><div class="location-capacity">856 / 1000 itens</div><div class="capacity-bar"><div class="capacity-fill capacity-warning" style="width: 85%;"></div></div></div>
                        <div class="location-card"><div class="location-icon"><i class="fas fa-warehouse"></i></div><div class="location-name">Dep√≥sito Norte</div><div class="location-capacity">420 / 800 itens</div><div class="capacity-bar"><div class="capacity-fill capacity-ok" style="width: 52%;"></div></div></div>
                        <div class="location-card"><div class="location-icon"><i class="fas fa-warehouse"></i></div><div class="location-name">Dep√≥sito Sul</div><div class="location-capacity">780 / 800 itens</div><div class="capacity-bar"><div class="capacity-fill capacity-critical" style="width: 97%;"></div></div></div>
                        <div class="location-card"><div class="location-icon"><i class="fas fa-box"></i></div><div class="location-name">Expedi√ß√£o</div><div class="location-capacity">125 / 300 itens</div><div class="capacity-bar"><div class="capacity-fill capacity-ok" style="width: 41%;"></div></div></div>
                        <div class="location-card"><div class="location-icon"><i class="fas fa-inbox"></i></div><div class="location-name">Recebimento</div><div class="location-capacity">89 / 200 itens</div><div class="capacity-bar"><div class="capacity-fill capacity-ok" style="width: 44%;"></div></div></div>
                        <div class="location-card"><div class="location-icon"><i class="fas fa-snowflake"></i></div><div class="location-name">C√¢mara Fria</div><div class="location-capacity">45 / 100 itens</div><div class="capacity-bar"><div class="capacity-fill capacity-ok" style="width: 45%;"></div></div></div>
                    </div>
                </div>
            </div>

            <!-- PAGE: RELAT√ìRIOS -->
            <div class="page-content" id="page-relatorios">
                <div class="header"><div class="page-title"><h1>Relat√≥rios</h1><p>An√°lises e m√©tricas do estoque</p></div><div class="header-actions"><button class="btn btn-secondary"><i class="fas fa-calendar"></i> Per√≠odo</button><button class="btn btn-primary"><i class="fas fa-download"></i> Exportar</button></div></div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon green"><i class="fas fa-chart-line"></i></div></div><div class="stat-value">+23%</div><div class="stat-label">Crescimento Mensal</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon blue"><i class="fas fa-sync"></i></div></div><div class="stat-value">4.2x</div><div class="stat-label">Giro de Estoque</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon orange"><i class="fas fa-clock"></i></div></div><div class="stat-value">18 dias</div><div class="stat-label">Tempo M√©dio</div></div>
                    <div class="stat-card"><div class="stat-header"><div class="stat-icon red"><i class="fas fa-percentage"></i></div></div><div class="stat-value">2.3%</div><div class="stat-label">Taxa de Perda</div></div>
                </div>
                <div class="content-grid">
                    <div class="card"><div class="card-header"><h2>üìà Movimenta√ß√£o Mensal</h2></div><div class="chart-container" style="height: 300px;"><canvas id="reportChart"></canvas></div></div>
                    <div class="card"><div class="card-header"><h2>üèÜ Top Produtos</h2></div>
                        <div class="alerts-list">
                            <div class="alert-item info" style="border-color: #f59e0b;"><div class="alert-icon" style="background: rgba(245, 158, 11, 0.2); color: #f59e0b;">1¬∞</div><div class="alert-content"><div class="alert-title">Mouse Wireless</div><div class="alert-desc">1,245 un vendidas</div></div></div>
                            <div class="alert-item info" style="border-color: #94a3b8;"><div class="alert-icon" style="background: rgba(148, 163, 184, 0.2); color: #94a3b8;">2¬∞</div><div class="alert-content"><div class="alert-title">Teclado Mec√¢nico</div><div class="alert-desc">892 un vendidas</div></div></div>
                            <div class="alert-item info" style="border-color: #cd7f32;"><div class="alert-icon" style="background: rgba(205, 127, 50, 0.2); color: #cd7f32;">3¬∞</div><div class="alert-content"><div class="alert-title">Headset Gamer</div><div class="alert-desc">654 un vendidas</div></div></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE: CONFIGURA√á√ïES -->
            <div class="page-content" id="page-configuracoes">
                <div class="header"><div class="page-title"><h1>Configura√ß√µes</h1><p>Personalize o sistema</p></div></div>
                <div class="card">
                    <div class="settings-section"><h3>‚öôÔ∏è Configura√ß√µes Gerais</h3>
                        <div class="setting-item"><div class="setting-info"><h4>Notifica√ß√µes de Estoque Baixo</h4><p>Alertas quando produtos atingirem estoque m√≠nimo</p></div><div class="toggle-switch active" onclick="this.classList.toggle('active')"></div></div>
                        <div class="setting-item"><div class="setting-info"><h4>Alertas por E-mail</h4><p>Enviar notifica√ß√µes para seu e-mail</p></div><div class="toggle-switch active" onclick="this.classList.toggle('active')"></div></div>
                        <div class="setting-item"><div class="setting-info"><h4>Modo Escuro</h4><p>Usar tema escuro</p></div><div class="toggle-switch active" onclick="this.classList.toggle('active')"></div></div>
                    </div>
                    <div class="settings-section"><h3>üì¶ Configura√ß√µes de Estoque</h3>
                        <div class="setting-item"><div class="setting-info"><h4>Contagem Autom√°tica</h4><p>Agendar contagens de invent√°rio</p></div><div class="toggle-switch" onclick="this.classList.toggle('active')"></div></div>
                        <div class="setting-item"><div class="setting-info"><h4>C√≥digo de Barras</h4><p>Habilitar leitura de c√≥digo de barras</p></div><div class="toggle-switch active" onclick="this.classList.toggle('active')"></div></div>
                    </div>
                    <div class="settings-section"><h3>üë§ Perfil</h3>
                        <div class="form-group"><label>Nome da Empresa</label><input type="text" value="Minha Empresa LTDA"></div>
                        <div class="form-row"><div class="form-group"><label>E-mail</label><input type="email" value="admin@empresa.com"></div><div class="form-group"><label>Telefone</label><input type="tel" value="(11) 99999-9999"></div></div>
                        <button class="btn btn-primary" style="margin-top: 10px;"><i class="fas fa-save"></i> Salvar Altera√ß√µes</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal Novo Produto -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header"><h2 id="modalTitle">‚ûï Novo Produto</h2><button class="close-modal" onclick="closeModal()">&times;</button></div>
            <form onsubmit="saveProduct(event)">
                <input type="hidden" id="editingProductId">
                <div class="form-group"><label>Nome do Produto</label><input type="text" id="productName" placeholder="Ex: Notebook Dell XPS" required></div>
                <div class="form-row"><div class="form-group"><label>SKU</label><input type="text" id="productSku" placeholder="Ex: NB-001-DL" required></div><div class="form-group"><label>Categoria</label><select id="productCategory"><option>Eletr√¥nicos</option><option>Perif√©ricos</option><option>Monitores</option><option>Acess√≥rios</option></select></div></div>
                <div class="form-row"><div class="form-group"><label>Quantidade</label><input type="number" id="productQty" placeholder="0" min="0" required></div><div class="form-group"><label>Pre√ßo (R$)</label><input type="number" id="productPrice" placeholder="0.00" step="0.01" min="0" required></div></div>
                <button type="submit" class="btn btn-primary" style="width: 100%; justify-content: center; padding: 15px;"><i class="fas fa-save"></i> <span id="btnSaveText">Cadastrar</span></button>
            </form>
        </div>
    </div>

    <!-- Modal Movimenta√ß√£o -->
    <div class="modal" id="movementModal">
        <div class="modal-content">
            <div class="modal-header"><h2 id="movementTitle">üì¶ Movimenta√ß√£o de Estoque</h2><button class="close-modal" onclick="closeMovementModal()">&times;</button></div>
            <form onsubmit="executeMovement(event)">
                <input type="hidden" id="movementProductId">
                <div class="form-group">
                    <label>Produto</label>
                    <input type="text" id="movementProductName" readonly style="background: #0f172a;">
                </div>
                <div class="form-group">
                    <label>Tipo de Movimenta√ß√£o</label>
                    <div style="display: flex; gap: 10px; margin-top: 8px;">
                        <button type="button" class="btn btn-secondary movement-type active" data-type="entrada" onclick="setMovementType('entrada', this)" style="flex: 1;">
                            <i class="fas fa-arrow-down"></i> Entrada
                        </button>
                        <button type="button" class="btn btn-secondary movement-type" data-type="saida" onclick="setMovementType('saida', this)" style="flex: 1;">
                            <i class="fas fa-arrow-up"></i> Sa√≠da
                        </button>
                    </div>
                </div>
                <input type="hidden" id="movementType" value="entrada">
                <div class="form-row">
                    <div class="form-group"><label>Quantidade</label><input type="number" id="movementQty" placeholder="0" min="1" required></div>
                    <div class="form-group"><label>Estoque Atual</label><input type="text" id="currentStock" readonly style="background: #0f172a;"></div>
                </div>
                <div class="form-group"><label>Observa√ß√£o</label><input type="text" id="movementObs" placeholder="Ex: Compra fornecedor X"></div>
                <button type="submit" class="btn btn-primary" style="width: 100%; justify-content: center; padding: 15px;"><i class="fas fa-check"></i> Confirmar</button>
            </form>
        </div>
    </div>

    <script>
        // ===== DADOS DO ESTOQUE =====
        let products = JSON.parse(localStorage.getItem('estoqueProducts')) || [
            { id: 1, name: 'Notebook Dell XPS', sku: 'NB-001-DL', category: 'Eletr√¥nicos', qty: 45, price: 4299.99, icon: 'laptop' },
            { id: 2, name: 'Mouse Wireless', sku: 'PR-042-MS', category: 'Perif√©ricos', qty: 128, price: 89.90, icon: 'mouse' },
            { id: 3, name: 'Monitor LG 27"', sku: 'MN-015-LG', category: 'Monitores', qty: 8, price: 1599.00, icon: 'tv' },
            { id: 4, name: 'Teclado Mec√¢nico', sku: 'PR-067-TK', category: 'Perif√©ricos', qty: 3, price: 349.90, icon: 'keyboard' },
            { id: 5, name: 'Headset Gamer', sku: 'PR-089-HS', category: 'Acess√≥rios', qty: 67, price: 259.00, icon: 'headphones' }
        ];

        let movements = JSON.parse(localStorage.getItem('estoqueMovements')) || [];
        let nextId = products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1;

        // ===== SALVAR NO LOCALSTORAGE =====
        function saveToStorage() {
            localStorage.setItem('estoqueProducts', JSON.stringify(products));
            localStorage.setItem('estoqueMovements', JSON.stringify(movements));
        }

        // ===== RENDERIZAR TABELA =====
        function renderProducts(filter = '') {
            const tbody = document.getElementById('productsTable');
            if (!tbody) return;

            const filtered = products.filter(p => 
                p.name.toLowerCase().includes(filter.toLowerCase()) ||
                p.sku.toLowerCase().includes(filter.toLowerCase()) ||
                p.category.toLowerCase().includes(filter.toLowerCase())
            );

            tbody.innerHTML = filtered.map(p => {
                let status, statusClass;
                if (p.qty > 20) { status = 'Em Estoque'; statusClass = 'stock-ok'; }
                else if (p.qty > 5) { status = 'Baixo'; statusClass = 'stock-low'; }
                else { status = 'Cr√≠tico'; statusClass = 'stock-critical'; }

                return `
                    <tr data-id="${p.id}">
                        <td>
                            <div class="product-info">
                                <div class="product-img"><i class="fas fa-${p.icon}"></i></div>
                                <div>
                                    <div class="product-name">${p.name}</div>
                                    <div class="product-sku">SKU: ${p.sku}</div>
                                </div>
                            </div>
                        </td>
                        <td>${p.category}</td>
                        <td>${p.qty}</td>
                        <td><span class="stock-badge ${statusClass}">${status}</span></td>
                        <td>
                            <button class="action-btn" onclick="openMovementModal(${p.id})" title="Movimentar"><i class="fas fa-exchange-alt"></i></button>
                            <button class="action-btn" onclick="editProduct(${p.id})" title="Editar"><i class="fas fa-edit"></i></button>
                            <button class="action-btn" onclick="deleteProduct(${p.id})" title="Excluir"><i class="fas fa-trash"></i></button>
                        </td>
                    </tr>
                `;
            }).join('');

            updateStats();
        }

        // ===== ATUALIZAR ESTAT√çSTICAS =====
        function updateStats() {
            const totalEl = document.getElementById('totalProdutos');
            const estoqueEl = document.getElementById('totalEstoque');
            const baixoEl = document.getElementById('estoqueBaixo');
            
            if (totalEl) totalEl.textContent = products.length.toLocaleString();
            if (estoqueEl) estoqueEl.textContent = products.reduce((sum, p) => sum + p.qty, 0).toLocaleString();
            if (baixoEl) baixoEl.textContent = products.filter(p => p.qty <= 5).length;
        }

        // ===== BUSCA =====
        function initSearch() {
            const searchInput = document.querySelector('.search-box input');
            if (searchInput) {
                searchInput.addEventListener('input', (e) => {
                    renderProducts(e.target.value);
                });
            }
        }

        // ===== MODAL PRODUTO =====
        function openModal(editId = null) {
            document.getElementById('productModal').classList.add('active');
            document.getElementById('editingProductId').value = editId || '';
            document.getElementById('modalTitle').textContent = editId ? '‚úèÔ∏è Editar Produto' : '‚ûï Novo Produto';
            document.getElementById('btnSaveText').textContent = editId ? 'Atualizar' : 'Cadastrar';
            
            if (editId) {
                const product = products.find(p => p.id === editId);
                if (product) {
                    document.getElementById('productName').value = product.name;
                    document.getElementById('productSku').value = product.sku;
                    document.getElementById('productCategory').value = product.category;
                    document.getElementById('productQty').value = product.qty;
                    document.getElementById('productPrice').value = product.price;
                }
            } else {
                document.getElementById('productName').value = '';
                document.getElementById('productSku').value = '';
                document.getElementById('productQty').value = '';
                document.getElementById('productPrice').value = '';
            }
        }

        function closeModal() { 
            document.getElementById('productModal').classList.remove('active');
        }

        function editProduct(id) {
            openModal(id);
        }

        function saveProduct(e) {
            e.preventDefault();
            
            const editId = document.getElementById('editingProductId').value;
            const name = document.getElementById('productName').value;
            const sku = document.getElementById('productSku').value;
            const category = document.getElementById('productCategory').value;
            const qty = parseInt(document.getElementById('productQty').value);
            const price = parseFloat(document.getElementById('productPrice').value);
            const icons = { 'Eletr√¥nicos': 'laptop', 'Perif√©ricos': 'keyboard', 'Monitores': 'tv', 'Acess√≥rios': 'headphones' };
            
            if (editId) {
                // Editar existente
                const product = products.find(p => p.id === parseInt(editId));
                if (product) {
                    product.name = name;
                    product.sku = sku;
                    product.category = category;
                    product.qty = qty;
                    product.price = price;
                    product.icon = icons[category] || 'box';
                }
                showToast('‚úÖ Produto atualizado!');
            } else {
                // Novo produto
                products.unshift({
                    id: nextId++,
                    name, sku, category, qty, price,
                    icon: icons[category] || 'box'
                });
                showToast('‚úÖ Produto cadastrado!');
            }
            
            saveToStorage();
            renderProducts();
            closeModal();
            e.target.reset();
        }

        function deleteProduct(id) {
            if (confirm('Tem certeza que deseja excluir este produto?')) {
                products = products.filter(p => p.id !== id);
                saveToStorage();
                renderProducts();
                showToast('üóëÔ∏è Produto exclu√≠do!');
            }
        }

        // ===== MODAL MOVIMENTA√á√ÉO =====
        function openMovementModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            document.getElementById('movementModal').classList.add('active');
            document.getElementById('movementProductId').value = productId;
            document.getElementById('movementProductName').value = product.name;
            document.getElementById('currentStock').value = product.qty + ' unidades';
            document.getElementById('movementQty').value = '';
            document.getElementById('movementObs').value = '';
            setMovementType('entrada', document.querySelector('.movement-type[data-type="entrada"]'));
        }

        function closeMovementModal() {
            document.getElementById('movementModal').classList.remove('active');
        }

        function setMovementType(type, btn) {
            document.getElementById('movementType').value = type;
            document.querySelectorAll('.movement-type').forEach(b => b.classList.remove('active'));
            if (btn) btn.classList.add('active');
            
            // Atualizar visual
            if (type === 'entrada') {
                document.getElementById('movementTitle').innerHTML = 'üì• Entrada de Estoque';
            } else {
                document.getElementById('movementTitle').innerHTML = 'üì§ Sa√≠da de Estoque';
            }
        }

        function executeMovement(e) {
            e.preventDefault();
            
            const productId = parseInt(document.getElementById('movementProductId').value);
            const type = document.getElementById('movementType').value;
            const qty = parseInt(document.getElementById('movementQty').value);
            const obs = document.getElementById('movementObs').value;
            
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            if (type === 'saida' && qty > product.qty) {
                alert('‚ùå Quantidade insuficiente em estoque!');
                return;
            }
            
            // Atualizar estoque
            if (type === 'entrada') {
                product.qty += qty;
            } else {
                product.qty -= qty;
            }
            
            // Registrar movimento
            movements.unshift({
                id: Date.now(),
                productId,
                productName: product.name,
                type,
                qty,
                obs,
                date: new Date().toISOString()
            });
            
            saveToStorage();
            renderProducts();
            renderMovements();
            closeMovementModal();
            
            showToast(type === 'entrada' ? 'üì• Entrada registrada!' : 'üì§ Sa√≠da registrada!');
        }

        // ===== RENDERIZAR MOVIMENTA√á√ïES =====
        function renderMovements() {
            const tbody = document.getElementById('movementsTable');
            if (!tbody) return;
            
            tbody.innerHTML = movements.slice(0, 20).map(m => {
                const date = new Date(m.date);
                return `
                    <tr>
                        <td>${date.toLocaleDateString('pt-BR')}</td>
                        <td>${m.productName}</td>
                        <td><span class="movement-type ${m.type === 'entrada' ? 'movement-entry' : 'movement-exit'}">${m.type === 'entrada' ? 'üì• Entrada' : 'üì§ Sa√≠da'}</span></td>
                        <td>${m.type === 'entrada' ? '+' : '-'}${m.qty}</td>
                        <td>${m.obs || '-'}</td>
                    </tr>
                `;
            }).join('') || '<tr><td colspan="5" style="text-align: center; color: #64748b;">Nenhuma movimenta√ß√£o registrada</td></tr>';
        }

        // ===== TOAST =====
        function showToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = 'position: fixed; bottom: 80px; right: 20px; background: #1e293b; color: #e2e8f0; padding: 15px 25px; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.3); z-index: 10000; animation: slideIn 0.3s ease;';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // ===== NAVIGATION =====
        const navLinks = document.querySelectorAll('.nav-menu a[data-page]');
        const pages = document.querySelectorAll('.page-content');
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetPage = this.getAttribute('data-page');
                navLinks.forEach(l => l.classList.remove('active'));
                pages.forEach(p => p.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('page-' + targetPage).classList.add('active');
            });
        });

        // ===== GR√ÅFICOS =====
        function initCharts() {
            const ctx = document.getElementById('movementChart');
            if (ctx) {
                new Chart(ctx.getContext('2d'), {
                    type: 'line',
                    data: { 
                        labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b', 'Dom'], 
                        datasets: [
                            { label: 'Entradas', data: [65, 78, 45, 89, 56, 32, 28], borderColor: '#10b981', backgroundColor: 'rgba(16, 185, 129, 0.1)', fill: true, tension: 0.4 }, 
                            { label: 'Sa√≠das', data: [45, 52, 68, 74, 62, 48, 35], borderColor: '#ef4444', backgroundColor: 'rgba(239, 68, 68, 0.1)', fill: true, tension: 0.4 }
                        ] 
                    },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: true, position: 'bottom', labels: { color: '#94a3b8', padding: 15 } } }, scales: { y: { beginAtZero: true, grid: { color: 'rgba(139, 92, 246, 0.1)' }, ticks: { color: '#64748b' } }, x: { grid: { display: false }, ticks: { color: '#64748b' } } } }
                });
            }

            setTimeout(() => {
                const reportCtx = document.getElementById('reportChart');
                if (reportCtx) {
                    new Chart(reportCtx.getContext('2d'), {
                        type: 'bar',
                        data: { labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'], datasets: [{ label: 'Entradas', data: [1200, 1900, 1500, 2100, 1800, 2400], backgroundColor: 'rgba(16, 185, 129, 0.8)', borderRadius: 5 }, { label: 'Sa√≠das', data: [900, 1400, 1200, 1800, 1500, 2000], backgroundColor: 'rgba(245, 158, 11, 0.8)', borderRadius: 5 }] },
                        options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#94a3b8' } } }, scales: { y: { beginAtZero: true, grid: { color: 'rgba(139, 92, 246, 0.1)' }, ticks: { color: '#64748b' } }, x: { grid: { display: false }, ticks: { color: '#64748b' } } } }
                    });
                }
            }, 500);
        }

        // ===== INICIALIZA√á√ÉO =====
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            renderMovements();
            initSearch();
            initCharts();
        });

        document.getElementById('productModal').addEventListener('click', function(e) { if (e.target === this) closeModal(); });
        document.getElementById('movementModal').addEventListener('click', function(e) { if (e.target === this) closeMovementModal(); });
    </script>
</body>
</html>
